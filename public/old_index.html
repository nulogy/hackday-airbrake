<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="/assets/application.js"></script>
    <link rel="stylesheet" href="/assets/application.css" />
  </head>
  <body ng-controller="FiltersController as ctrl">
    <div class="container-fluid">
      <div class="filters">
        <form role="form" ng-submit="ctrl.updateErrors()">
          <div class="row">
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Environment</label>
                <input name="environment" ng-model="ctrl.filters.environment" class="form-control environment">
              </div>
            </div>
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Category</label>
                <input name="category" ng-model="ctrl.filters.category" class="form-control category">
              </div>
            </div>
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Taskforce</label>
                <input name="taskforce.name" ng-model="ctrl.filters.taskforce.name" class="form-control taskforce_name">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Company Name</label>
                <input name="company_name" ng-model="ctrl.filters.company_name" class="form-control company_name">
              </div>
            </div>
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Account Name</label>
                <input name="account_name" ng-model="ctrl.filters.account_name" class="form-control account_name">
              </div>
            </div>
            <div class="col-md-4 col-sm-8">
              <div class="form-group">
                <label>Site ID</label>
                <input name="site_id" placeholder="Site ID" ng-model="ctrl.filters.site_id" class="form-control site_id">
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-default submit">Submit</button>
        </form>
      </div>
      <div class="results">
        <table class="table table-condensed table-striped">
          <thead>
            <tr>
              <th>Error ID</th>
              <th>Company</th>
              <th>Account</th>
              <th>Site ID</th>
              <th>User</th>
              <th>Controller</th>
              <th>Category</th>
              <th>Taskforce</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-show="ctrl.noErrors">
              <td colspan="6">No Errors</td>
            </tr>
            <tr ng-hide="ctrl.noErrors" ng-repeat="error in ctrl.errors">
              <td ng-bind="error.id"></td>
              <td ng-bind="error.company_name"></td>
              <td ng-bind="error.account_name"></td>
              <td ng-bind="error.site_id"></td>
              <td ng-bind="error.username"></td>
              <td>{{error.controller}}#{{error.action}}</td>
              <td ng-bind="error.category"></td>
              <td ng-bind="error.taskforce.name"></td>
              <td>
                <button class="btn btn-success btn-xs">View Details</button>
              </td>
            </tr>
          </tbody>
        </table>
        <div ng-controller="PaginationCtrl as ctrl" class="text-center">
          <pagination total-items="totalItems" ng-model="currentPage" boundary-links="true" num-pages="numPages" class="pagination-sm"></pagination>
        </div>
      </div>
    </div>
  </body>
</html>